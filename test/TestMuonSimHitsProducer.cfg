process PROD  = 
{
	
    untracked PSet maxEvents = {untracked int32 input = 100}

    # Include the RandomNumberGeneratorService definition
    include "FastSimulation/Configuration/data/RandomServiceInitialization.cff"

   source = FlatRandomPtGunSource    {
	untracked uint32 firstRun  = 1
      	untracked      PSet  PGunParameters = {
	  # you can request more than 1 particle
	  #untracked vint32  PartID = { 211, 11, -13 }
	  untracked vint32 PartID = {-13} 
	  untracked double MinEta = -2.4
	  untracked double MaxEta = 2.4
	  untracked double MinPhi = -3.14159265358979323846  # it must be in radians
	  untracked double MaxPhi =  3.14159265358979323846
	  untracked double MinPt   =  9.99
	  untracked double MaxPt   = 10.01
	}
	untracked int32 Verbosity = 0 # for printouts, set it to 1 (or greater)   
   }

   # Famos sequences
   include "FastSimulation/Configuration/data/FamosSequences.cff"
   replace VolumeBasedMagneticFieldESProducer.useParametrizedTrackerField = true
   replace famosSimHits.SimulateCalorimetry = false
   replace famosSimHits.SimulateTracking = true
   replace famosSimHits.SimulatePileUp = false

   # MuonSimHit 
   include "RecoMuon/TrackingTools/data/MuonServiceProxy.cff"
   include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"
   include "FastSimulation/MuonSimHitProducer/data/MuonSimHitProducer.cfi"

   # MuonDigi (= standard sequences !)
   # procudes standard DT, CSC, RPC digis
   include "CalibMuon/Configuration/data/DT_FakeConditions.cff"
   include "CalibMuon/Configuration/data/CSC_FakeConditions.cff"
   include "SimMuon/Configuration/data/SimMuon.cff"

   # Local Muon Reco (= standard sequences !)
   # muonlocalreco produces RecHits (RPC, DT, CSC) and 2D, 4D Segments (DT, CSC)
   include "RecoLocalMuon/Configuration/data/RecoLocalMuon.cff"
   replace  DTParametrizedDriftAlgo_CSA07.recAlgoConfig.tTrigModeConfig.doT0Correction = false


   # - MuonSeed produces seeds for local muon tracking
   # - standAloneMuons performs local muon track fits, producing stand-alone muons
    include "RecoMuon/Configuration/data/RecoMuon.cff"

  
   # Just for fun: STAMuonAnalyzer is a simple analyzer of stand-alone muons
   include  "RecoMuon/StandAloneMuonProducer/test/STAMuonAnalyzer.cfi"
   replace STAMuonAnalyzer.DataType = "RealData"
   # (not yet adapted to FastSim Simhits... )


   service = Timing { }
#   service = SimpleProfiling { }

   path p1 = {
     famosSimHits, MuonSimHits, mix, muonDigi, muonlocalreco, MuonSeed, standAloneMuons
#    STAMuonAnalyzer
   }


   module o1 = PoolOutputModule { untracked string fileName = "test_mu.root" }
   endpath outpath = { o1 }


# Keep the logging output to a nice level #
   include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.destinations = {"detailedInfo.txt"}

}		
